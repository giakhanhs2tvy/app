<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>RegistrationForm</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" th:href="@{/login-register/css/LoginPage.css}">
    <meta name="robots" content="noindex, follow">
</head>
<body>
    <div class="wrapper"
         style="background-image: url('https://vietnamdiscovery.com/wp-content/uploads/2019/10/Is-Danang-worth-visiting.jpg');">
        <div class="inner">
            <div class="image-holder">
                <img
                        src="https://images.pexels.com/photos/2524416/pexels-photo-2524416.jpeg?cs=srgb&dl=pexels-charles-pragnell-2524416.jpg&fm=jpg&_gl=1*lk7y2e*_ga*NDAyNTczNzYxLjE2NzkzODU0MjU.*_ga_8JE65Q40S6*MTY3OTQ1OTAzNS4yLjEuMTY3OTQ1OTQ0MS4wLjAuMA.."
                        alt="">
            </div>
            <form th:action="@{/register}" th:object="${user}" method="post" name="formRegister" onsubmit="return validateFormRegister()">
                <h3>Registration Form</h3>
                <div id="validateFName" class="alert-warning"></div>
                <div class="form-group">
                    <input type="text" placeholder="First Name" class="form-control" name="firstname" th:field="*{firstName}">
                    <input type="text" placeholder="Last Name" class="form-control" name="lastname" th:field="*{lastName}">
                </div>
                <div class="form-wrapper">
                    <div id="validateUsername" class="alert-warning"></div>
                    <input type="text" placeholder="Username" class="form-control" name="username" th:field="*{userName}">
                    <i class="zmdi zmdi-account"></i>
                </div>
                <div class="form-wrapper">
                    <div id="validateEmail" class="alert-warning"></div>
                    <input type="text" placeholder="E-mail" class="form-control" name="email" th:field="*{email}">
                    <i class="zmdi zmdi-email"></i>
                </div>
                <div class="form-wrapper">
                    <div id="validatePassword" class="alert-warning"></div>
                    <input type="password" placeholder="Password" class="form-control" name="password" th:field="*{password}">
                    <i class="zmdi zmdi-lock"></i>
                </div>
                <div class="form-wrapper">
                    <div id="validateRePassword" class="alert-warning"></div>
                    <input type="password" placeholder="Confirm Password" class="form-control" name="repassword">
                    <i class="zmdi zmdi-lock"></i>
                </div>
                <div th:if="${message}" class="alert alert-warning text-center mb-0" th:text="${message}"></div>
                <table>
                    <tr>
                        <th style="padding-top: 15px; font-size:18px;">
                            <i class="zmdi zmdi-arrow-left"></i>
                            <a th:href="@{/login}" >Cancel
                            </a>
                        </th>
                        <th>
                            <button style="margin-top: 10px; margin-left: 50%;">Register
                                <i class="zmdi zmdi-arrow-right"></i>
                            </button>
                        </th>
                    </tr>
                </table>
            </form>
        </div>
    </div>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-23581568-13');
    </script>
    <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vaafb692b2aea4879b33c060e79fe94621666317369993"
            integrity="sha512-0ahDYl866UMhKuYcW078ScMalXqtFJggm7TmlUtp0UlD4eQk0Ixfnm5ykXKvGJNFjLMoortdseTfsRT8oCfgGA=="
            data-cf-beacon='{"rayId":"7ab499435ae20f04","token":"cd0b4b3a733644fc843ef0b185f98241","version":"2023.2.0","si":100}'
            crossorigin="anonymous"></script>

    <script>
        function validateFormRegister(){
            var firstname = document.getElementById("firstName").value;
            var lastname = document.getElementById("lastName").value;
            var username = document.getElementById("userName").value;
            var password = document.getElementById("password").value;
            var repassword = document.formRegister.repassword.value;
            var email = document.getElementById("email").value;

            var elementFName = document.getElementById("validateFName");
            var elementLName = document.getElementById("validateLName");
            var elementUsername = document.getElementById("validateUsername");
            var elementPassword = document.getElementById("validatePassword");
            var elementRePassword = document.getElementById("validateRePassword");
            var elementEmail = document.getElementById("validateEmail");

            var status = false;
            var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;

            //firstname
            if(firstname == null || firstname == ""){
                elementFName.innerHTML = "Please input firstname!";
                status = false;
            }
            else{
                elementFName.innerHTML = "";
                status = true;
            }

            //lastname
            if(lastname == null || lastname == ""){
                elementLName.innerHTML = "Please input lastname!";
                status = false;
            }
            else{
                elementLName.innerHTML = "";
            }

            //username
            if(username == null || username == ""){
                elementUsername.innerHTML = "Please input username!";
                status = false;
            }
            else{
                elementUsername.innerHTML = "";
            }

            //password
            if(password == null || password == ""){
                elementPassword.innerHTML = "Please input password!";
                status = false;
            }
            else{
                elementPassword.innerHTML = "";
            }

            if(!password == repassword){
                elementRePassword.innerHTML = "The password not match!";
                status = false;
            }
            else{
                elementRePassword.innerHTML = "";
            }

            //email
            if(!email.match(mailformat)){
                elementEmail.innerHTML = "The email format error!";
                status = false;
            }
            else{
                elementEmail.innerHTML = "";
            }
            return status;
        }
    </script>
</body>
</html>

